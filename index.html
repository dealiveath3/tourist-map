fetch('congestion_mock_data_47.json')
  .then(response => response.json())
  .then(locations => {
    locations.forEach(loc => {
      const color = getColorByCongestion(loc.congestion);

      const marker = L.circleMarker([loc.lat, loc.lon], {
        radius: 10,
        fillColor: color,
        color: '#000',
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
      }).addTo(map);

      marker.bindPopup(`
        <strong>${loc.name}</strong><br>
        混雑：<span style="color:${color}">${loc.congestion}</span>
      `);
    });
  });
        
